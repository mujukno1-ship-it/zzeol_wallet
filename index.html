<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>💰 사토시의지갑 - 실시간 업비트 연동</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22><text y=%22.9em%22 font-size=%2248%22>💰</text></svg>">
  <style>
    :root{--bg:#0c1220;--panel:#121a2b;--text:#e9eefc;--muted:#8fa1c7;--accent:#4cc9f0;--warn:#ffd166;--risk:#ef476f;--ok:#42d392}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:15px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{max-width:1100px;margin:36px auto;padding:0 16px}
    h1{display:flex;gap:8px;align-items:center;margin:0 0 18px;font-weight:700;letter-spacing:.2px}
    .search{display:flex;gap:8px;margin:10px 0 18px}
    .search input{flex:1;height:40px;background:#0f1626;border:1px solid #1b2844;color:var(--text);border-radius:10px;padding:0 14px;outline:none}
    .search button{height:40px;border:0;background:#1b2844;color:#c7d3f4;border-radius:10px;padding:0 14px;cursor:pointer}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
    @media (max-width:860px){.grid{grid-template-columns:1fr}}
    .card{background:var(--panel);border:1px solid #1b2844;border-radius:14px;padding:16px}
    .title{display:flex;align-items:center;gap:8px;margin:0 0 10px;font-weight:700}
    .muted{color:var(--muted)}
    .row{display:flex;justify-content:space-between;gap:12px;padding:8px 0;border-bottom:1px dashed #203154}
    .row:last-child{border-bottom:0}
    .big{font-size:24px;font-weight:800;letter-spacing:.3px}
    .pill{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid #263860;background:#0e1628}
    .ok{color:var(--ok)} .risk{color:var(--risk)} .warn{color:var(--warn)}
    .foot{margin-top:10px;font-size:12px;color:var(--muted)}
    .updated{color:#9fb5ff}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>💰 사토시의지갑 - 실시간 업비트 연동</h1>

    <div class="search">
      <input id="search-input" placeholder="코인명/심볼 검색… (예: 비트코인, BTC, 이더리움, ETH)" />
      <button id="search-clear" title="지우기">✖</button>
    </div>

    <div class="grid">
      <div class="card">
        <p class="title">📊 김치 프리미엄</p>
        <div class="row">
          <div class="muted">김프</div>
          <div class="big" id="kimchi-premium">-</div>
        </div>
        <div class="row"><div class="muted">업비트 KRW</div><div id="upbit-krw">-</div></div>
        <div class="row"><div class="muted">글로벌 USD</div><div id="global-usd">-</div></div>
        <div class="row"><div class="muted">USD/KRW</div><div id="usd-krw">-</div></div>
        <div class="foot">
          소스: <span class="pill">CoinGecko</span> / <span class="pill">open.er-api.com</span> / <span class="pill">Upbit</span>
        </div>
      </div>

      <div class="card">
        <p class="title">🧠 온체인 TVL(ETH)</p>
        <div class="row">
          <div class="muted">TVL</div>
          <div class="big" id="onchain-tvl">-</div>
        </div>
        <div class="foot">
          소스: <span class="pill">DefiLlama</span>
        </div>
      </div>

      <div class="card">
        <p class="title">🎯 시그널</p>
        <div class="row"><div class="muted">현재가</div><div id="sig-price">-</div></div>
        <div class="row"><div class="muted">매수</div><div id="sig-buy">-</div></div>
        <div class="row"><div class="muted">매도</div><div id="sig-sell">-</div></div>
        <div class="row"><div class="muted">손절</div><div id="sig-stop">-</div></div>
        <div class="row"><div class="muted">위험도</div><div id="sig-risk" class="pill">-</div></div>
      </div>

      <div class="card">
        <p class="title">🧩 쩔어 한마디</p>
        <div id="commentary">-</div>
        <div class="foot">업데이트: <span id="updated" class="updated">-</span></div>
      </div>
    </div>
  </div>

  <!-- JS 모듈들 (순서 중요) -->
  <script src="/public/js/config.js"></script>
  <script src="/public/js/api.js"></script>
  <script src="/public/js/services/upbit.js"></script>
  <script src="/public/js/services/gimp.js"></script>
  <script src="/public/js/services/onchain.js"></script>
  <script src="/public/js/main.js"></script>
</body>
</html>
