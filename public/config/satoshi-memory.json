{
  "project": "ì‚¬í† ì‹œì˜ì§€ê°‘",
  "version": "v13-full",
  "api": {
    "API_BASE": "https://satoshi-proxy.mujukno1.workers.dev/api",
    "health": "/health"
  },
  "global_rules": {
    "currency": "KRW",
    "rounding": "upbit_tick",
    "coin_label_lang": "ko",
    "no_motion": true,
    "fixed_searchbar": true,
    "display_tables_inline": true
  },
  "ui": {
    "sections": [
      "search_fixed_top",
      "spark_top10_always_on",
      "ultra_signal_panel",
      "selected_coin_detail",
      "ai_comment_area"
    ],
    "badges": {
      "risk": true,
      "expected_gain_loss": true,
      "spark_score_gauge": true
    },
    "labels": {
      "buy1": "ë§¤ìˆ˜(BUY1)",
      "buy2": "ë§¤ìˆ˜(BUY2)",
      "tp1": "ìµì ˆ(TP1)",
      "tp2": "ìµì ˆ(TP2)",
      "sl": "ì†ì ˆ(SL)",
      "risk": "ìœ„í—˜ë„",
      "ai_comment": "ì©”ì–´í•œë§ˆë””"
    }
  },
  "rounding_rules": {
    "BUY1": "floor_tick",
    "BUY2": "floor_tick",
    "TP1": "ceil_tick",
    "TP2": "ceil_tick",
    "SL": "floor_tick"
  },
  "signal_engine": {
    "inputs": [
      "RVOL",
      "TBR",
      "OBI",
      "ATR_percent",
      "ForceIndex_AI",
      "kimchi_premium",
      "funding_rate",
      "basis",
      "whale_inout",
      "stablecoin_netflow",
      "VWAP_relation"
    ],
    "outputs": [
      "price",
      "risk_level_1to5",
      "BUY1","BUY2","TP1","TP2","SL",
      "expected_up_pct",
      "expected_down_pct",
      "ai_comment"
    ],
    "logic": {
      "expected_up_down_is_primary": true,
      "multi_timeframe_sync": ["5m","1h","4h","1d"],
      "enter_on_candle_close_rule": true,
      "split_entry_tranches": 3,
      "move_to_bep_rule": true
    }
  },
  "precision_boost_mode": {
    "enabled": true,
    "tolerance_pct": 0.3,
    "loops": 3,
    "learning_rate": 0.85,
    "speed_improvement": -45,
    "dynamic_opt": {
      "bull_bear_auto": true,
      "inputs_weighting": ["upbit_price","kimchi","funding","RVOL","onchain","fx","force_index"]
    }
  },
  "spark_module": {
    "always_on": true,
    "topN": 10,
    "metrics": ["5m_change","RVOL","OBI","ATR_rank","TBR","ForceIndex_AI"],
    "score_formula": "SPARK = RVOL*0.3 + TBR*0.25 + OBI*0.15 + ATR_Rank*0.15 + ForceIndex_AI*0.15",
    "bands": [
      {"range":"70-79","label":"ì˜ˆì—´","expected_gain":"4~6%"},
      {"range":"80-89","label":"ê°•ë ¥ ì˜ˆì—´","expected_gain":"8~12%"},
      {"range":"90-100","label":"í­ë°œ ì„ë°•","expected_gain":"15~25%"}
    ],
    "filters_upgrade": {
      "RVOL_min": 1.8,
      "TBR_min": 0.60,
      "OBI_min": 0.15,
      "chg5m_min_pct": 1.5
    },
    "ui": {
      "show_score_gauge": true,
      "show_expected_gain": true,
      "one_click_link_to_ultra": true
    }
  },
  "free_alpha_pack": {
    "enabled": true,
    "modules": [
      "aVWAP_daily_weekly_monthly_reversion",
      "ORB_30m_breakout",
      "Keltner_with_VWAP_filter",
      "VPVR_POC_retest",
      "RS_ranking_top20",
      "OBV_CVD_divergence",
      "round_number_and_orderwall_snap",
      "BTC_beta_correlation_filter",
      "time_day_pattern",
      "inside_outside_bar_signal"
    ]
  },
  "force_index_ai": {
    "enabled": true,
    "scale": "0-100",
    "zones": [
      {"range":"0-40","label":"ê°œë¯¸ì¥(ê´€ë§)"},
      {"range":"40-70","label":"ì„¸ë ¥ ì˜ˆì—´(ì†ŒëŸ‰ ë¶„í• )"},
      {"range":"70-90","label":"ì„¸ë ¥ ë§¤ì§‘(ì ê·¹ ë§¤ìˆ˜/í™€ë“œ)"},
      {"range":"90-100","label":"ì„¸ë ¥ ë¶„ì¶œ(ìµì ˆ ê²½ê³„)"}
    ],
    "ui_gauge": true
  },
  "bull_run_hold_mode": {
    "enabled": true,
    "on_conditions_at_least": 3,
    "conditions": [
      "RVOL>=2.0",
      "TBR>=0.65",
      "stablecoin_netflow_pct>=15",
      "kimchi_premium>=3",
      "ForceIndex_AI>=80",
      "price_above_VWAP_by>=1.5_ATR"
    ],
    "adjustments": {
      "TP1":"C+1.6*ATR",
      "TP2":"C+2.8*ATR",
      "SL":"C-0.8*ATR",
      "partial_tp_ratio":"30/70",
      "bep_move_delay_at":"C+1.5*ATR"
    },
    "off_conditions": [
      "RVOL<=1.3","ForceIndex_AI<70","funding_or_basis_spike"
    ]
  },
  "bear_fast_exit_mode": {
    "enabled": true,
    "on_conditions": [
      "RVOL>=1.4 && close_below_VWAP",
      "TBR<=0.45",
      "OBI<=-0.2",
      "basis<0 OR (funding<0 && OI_up)",
      "ForceIndex_AI<=35",
      "whale_inflow_exchange_up"
    ],
    "adjustments": {
      "TP1":"C+0.6*ATR",
      "TP2":"C+1.0*ATR",
      "SL":"C-1.3*ATR",
      "bep_move_at":"C+0.6*ATR",
      "trail_after":"C+0.8*ATR with 0.6*ATR",
      "time_exit_minutes":"15-30",
      "disable_buy2": true,
      "partial_tp_when_long_liq_near":"70%"
    },
    "contextual_tweaks": [
      "if funding<0 && OI_up => TP1 += 0.1*ATR",
      "if whale_inflow_up => SL += 0.1*ATR",
      "if HVRank>=80 => TP1/TP2 -= 0.1*ATR; reentry_cooldown=60m"
    ]
  },
  "ai_comment_system": {
    "enabled": true,
    "modes": ["bull","bear","pullback"],
    "outputs": [
      "ìƒìŠ¹í™•ë¥ ","ì˜ˆì—´ê°•ë„","ì„¸ë ¥ê°•ë„","ì˜ˆìƒìƒìŠ¹ë¥ _pct"
    ],
    "examples": {
      "bull": "ğŸ”¥ ì„¸ë ¥ ë¶„ì¶œ ì§ì „ â€” ì˜ˆì—´ê°•ë„ {spark} / ìƒìŠ¹í™•ë¥  {prob}% / ì˜ˆìƒìƒìŠ¹ë¥  +{gain}%",
      "bear": "âš ï¸ ì„¸ë ¥ ì´íƒˆ ê°ì§€ â€” ë¹ ë¥¸ ì²­ì‚° í•„ìš”.",
      "pullback": "â†”ï¸ ë˜ëŒë¦¼ â€” ë¶„í• ì§„ì… 1ì°¨, ìµì ˆ ì¤€ë¹„."
    },
    "precision_boost_linked": true,
    "no_motion_updates": true
  },
  "data_sources_free": {
    "exchanges_realtime": ["Upbit","Bithumb","Binance","Bybit","OKX","Kraken","Bitfinex"],
    "fx": ["exchangerate.host","naver/dau backup"],
    "kimchi_premium": "Upbit-Binance cross + FX",
    "onchain": ["mempool.space","DefiLlama (TVL, stablecoin)"],
    "derivatives": ["Binance/Bybit/OKX funding","OI proxy"],
    "sentiment": ["Fear&Greed","RSS Social Volume (lite)"],
    "global": ["CoinGecko market data"]
  },
  "level2_3_expansion": {
    "risk_black_swan": ["BlackSwanSentinel2.0","DynamicHedge","AI_AutoCut_v2"],
    "liquidity_cluster": ["LiquidationClusterMap+","MarketMakerTracker","LiquidityHeatmapRadar"],
    "global_flows": ["GlobalLiquidityIndex","ETF_Flow_Radar_v2","Stablecoin_Supply_Shock"],
    "smart_money": ["SmartMoneyDivergence","WhaleAlarmAI_v2","CycleTracker(MVRV/NUPL)"],
    "trading_engine": ["Adaptive_ATR_Trailing","VWAP_DynamicZone_Filter","HFT_Tick_Optimizer"],
    "ai_ment_set": ["bull_run","bear_fast_exit","sideway","macro_shock"]
  },
  "expected_gain_mapping": [
    {"spark_band":"70-79","gain_pct_range":"4-6"},
    {"spark_band":"80-89","gain_pct_range":"8-12"},
    {"spark_band":"90-100","gain_pct_range":"15-25"}
  ],
  "output_rules": {
    "risk_level_allowed": [1,2],
    "show_percent_bars": true,
    "show_ultra_selected_coin_panel": true,
    "KRW_only": true,
    "upbit_tick_everywhere": true
  },
  "integration_links": {
    "spark_to_ultra": true,
    "ultra_to_chart": true,
    "expected_gain_loss_on_panel": true
  },
  "defaults": {
    "show_top_lists": ["SPARK_TOP10","ULTRA_signal_selected"],
    "max_search_results": 5,
    "refresh_intervals_sec": {
      "tickers": 5,
      "spark": 20,
      "ultra": 20
    }
  },
  "dev_notes": {
    "one_paste_deploy_preference": true,
    "three_file_split_ready": true,
    "keep_backward_compat": true
  }
}
