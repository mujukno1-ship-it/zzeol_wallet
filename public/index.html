<!-- 중간 내용은 그대로, 바뀐 표시만 -->
<!-- …헤더/스타일 동일… -->
<script>
  const API_BASE = "https://satoshi-proxy.mujukno1.workers.dev/api";

  // 공통 포맷/상태 함수 그대로…

  function setTitleName(row){
    const name = row.name_kor || row.name_eng || row.market;
    const label = (row.name_kor ? `${row.name_kor} (${row.market})` : row.market);
    // 상단 입력 박스 placeholder 업데이트
    const inp = document.getElementById("ultra-market");
    if (inp && !inp.value) inp.placeholder = name;
    // 카드 상단 라벨(모드/정확도 옆)에 한국명 표시 (subtitle 형태)
    const last = document.getElementById("ultra-last");
    if (last) last.textContent = `last: ${fmt(row.last)} KRW · ${label}`;
  }

  function renderUltra(json){
    const row = json?.rows?.[0]; if(!row){ setStatus("데이터가 비어있습니다.", false); return; }
    document.getElementById("ultra-card").style.display="block";
    setTitleName(row);
    // 이하 기존 렌더 그대로…
    // mode/acc/no-trade, 가격 라인 등 기존 코드 유지
    // (너가 이전 버전 붙여넣었으면 그 함수 안의 field 이름만 동일)
  }

  async function loadSpark(){
    // …기존 fetch…
    (j.rows||[]).forEach(r=>{
      const name = r.name_kor || r.name_eng || r.market;
      const label = r.name_kor ? `${r.name_kor} (${r.market})` : r.market;
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td><a href="#" class="go-signal" data-market="${r.market}">${label}</a></td>
        <td class="num">${(r.chg5>=0?"+":"")}${r.chg5.toFixed(2)}%</td>
        <td class="num">${fmt(r.last)}</td>
        <td class="num">${fmt(r.buy)}</td>
        <td class="num">${fmt(r.sell)}</td>
        <td class="num" style="color:#f87171">${fmt(r.stop)}</td>
        <td class="num">${r.risk}%</td>
      `;
      body.appendChild(tr);
    });
    // …클릭 이벤트 동일…
  }
</script>
