<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ”¥ ì‚¬í† ì‹œì˜ì§€ê°‘ ì‹¤ì‹œê°„ ê¹€í”„ & ì˜¨ì²´ì¸ ğŸ”¥</title>
  <style>
    body{background:#0a0f1a;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:960px;margin:40px auto;padding:0 16px}
    .card{background:#111827;border:1px solid #1f2937;border-radius:16px;padding:20px;margin:12px 0}
    h1{display:flex;gap:.5rem;align-items:center}
  </style>
</head>
<body>
  <h1>ğŸ’° ì‚¬í† ì‹œì˜ì§€ê°‘ - ì‹¤ì‹œê°„ ì—…ë¹„íŠ¸ ì—°ë™</h1>

  <div class="card" id="kimp">ê¹€í”„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
  <div class="card" id="onchain">ì˜¨ì²´ì¸ ì§€í‘œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</div>
  <p id="updated" style="opacity:.7"></p>

  <script>
    async function load() {
      try {
        const k = await fetch("https://satoshi-proxy.mujukno1.workers.dev/api/premium?symbol=BTC").then(r=>r.json());
        const o = await fetch("https://satoshi-proxy.mujukno1.workers.dev/api/onchain?symbol=ETH").then(r=>r.json());

        document.getElementById("kimp").innerHTML =
          `ğŸ“Š ê¹€ì¹˜ í”„ë¦¬ë¯¸ì—„: <b>${(k.premiumPct ?? 0).toFixed(2)}%</b><br>
           ì—…ë¹„íŠ¸ KRW: ${k.upbitPrice?.toLocaleString()} â‚©<br>
           USD/KRW: ${k.usdkrw ?? '-'}<br>
           ì†ŒìŠ¤: ${k.src?.global ?? '-'} / ${k.src?.fx ?? '-'} / ${k.src?.krw ?? '-'}`;

        document.getElementById("onchain").innerHTML =
          `ğŸ§  ì˜¨ì²´ì¸ TVL(ETH): <b>${(o.tvl ?? 0).toLocaleString()} USD</b><br>
           ì†ŒìŠ¤: ${o.src ?? '-'}`;

        document.getElementById("updated").textContent =
          "ì—…ë°ì´íŠ¸: " + new Date().toLocaleString();
      } catch (e) {
        document.getElementById("kimp").textContent = "ê¹€í”„ ë¡œë”© ì˜¤ë¥˜";
        document.getElementById("onchain").textContent = "ì˜¨ì²´ì¸ ë¡œë”© ì˜¤ë¥˜";
      }
    }
    load();
  </script>
</body>
</html>
